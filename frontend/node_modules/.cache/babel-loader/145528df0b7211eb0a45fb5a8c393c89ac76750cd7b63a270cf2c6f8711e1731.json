{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\webAPI_cw\\\\frontend\\\\src\\\\components\\\\RecipeRatingAndDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RecipeRatingsAndDetails() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [recipes, setRecipes] = useState([]);\n  const [recipeDetail, setRecipeDetail] = useState(null);\n\n  // Fetch all recipes if no ID is present\n  useEffect(() => {\n    if (!id) {\n      axios.get('http://localhost:5000/api/recipes').then(response => setRecipes(response.data)).catch(error => console.error('Error fetching recipes:', error));\n    }\n  }, [id]);\n\n  // Fetch individual recipe details if ID is present\n  useEffect(() => {\n    if (id) {\n      axios.get(`http://localhost:5000/api/recipes/${id}`).then(response => setRecipeDetail(response.data)).catch(error => console.error('Error fetching recipe details:', error));\n    }\n  }, [id]);\n  if (id && !recipeDetail) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading recipe details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !id ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"All Recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/ratings/${recipe._id}`,\n            children: recipe.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 33\n          }, this)\n        }, recipe._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: recipeDetail.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: recipeDetail.imageUrl,\n        alt: \"Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: recipeDetail.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !id ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"All Recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/ratings/${recipe._id}`,\n            children: recipe.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this)\n        }, recipe._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Recipe Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: recipeDetail === null || recipeDetail === void 0 ? void 0 : recipeDetail.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nutritional Information:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ratings:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), recipeDetail === null || recipeDetail === void 0 ? void 0 : recipeDetail.ratings.map((rat, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [rat.user, \": \", rat.rating, \" - \", rat.review]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: rating,\n          onChange: e => setRating(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: review,\n          onChange: e => setReview(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitRating,\n          children: \"Add Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(RecipeRatingsAndDetails, \"hHccEk7rEO8auFQCnRnwlZGzBIQ=\", false, function () {\n  return [useParams];\n});\n_c = RecipeRatingsAndDetails;\nexport default RecipeRatingsAndDetails;\nvar _c;\n$RefreshReg$(_c, \"RecipeRatingsAndDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","jsxDEV","_jsxDEV","RecipeRatingsAndDetails","_s","id","recipes","setRecipes","recipeDetail","setRecipeDetail","get","then","response","data","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","map","recipe","to","_id","name","src","imageUrl","alt","description","ratings","rat","index","user","rating","review","type","value","onChange","e","setRating","target","setReview","onClick","submitRating","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/webAPI_cw/frontend/src/components/RecipeRatingAndDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction RecipeRatingsAndDetails() {\r\n    const { id } = useParams();\r\n    const [recipes, setRecipes] = useState([]);\r\n    const [recipeDetail, setRecipeDetail] = useState(null);\r\n\r\n    // Fetch all recipes if no ID is present\r\n    useEffect(() => {\r\n        if (!id) {\r\n            axios.get('http://localhost:5000/api/recipes')\r\n                .then(response => setRecipes(response.data))\r\n                .catch(error => console.error('Error fetching recipes:', error));\r\n        }\r\n    }, [id]);\r\n\r\n    // Fetch individual recipe details if ID is present\r\n    useEffect(() => {\r\n        if (id) {\r\n            axios.get(`http://localhost:5000/api/recipes/${id}`)\r\n                .then(response => setRecipeDetail(response.data))\r\n                .catch(error => console.error('Error fetching recipe details:', error));\r\n        }\r\n    }, [id]);\r\n\r\n    if (id && !recipeDetail) {\r\n        return <div>Loading recipe details...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!id ? (\r\n                <div>\r\n                    <h1>All Recipes</h1>\r\n                    <ul>\r\n                        {recipes.map(recipe => (\r\n                            <li key={recipe._id}>\r\n                                <Link to={`/ratings/${recipe._id}`}>{recipe.name}</Link>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <h1>{recipeDetail.name}</h1>\r\n                    <img src={recipeDetail.imageUrl} alt=\"Recipe\" />\r\n                    <p>{recipeDetail.description}</p>\r\n                    {/* Additional details */}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!id ? (\r\n                <div>\r\n                    <h1>All Recipes</h1>\r\n                    <ul>\r\n                        {recipes.map(recipe => (\r\n                            <li key={recipe._id}>\r\n                                <Link to={`/ratings/${recipe._id}`}>{recipe.name}</Link>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            ) : (\r\n                <div>\r\n                    <h1>Recipe Details</h1>\r\n                    <p>{recipeDetail?.name}</p>\r\n                    {/* Display other details */}\r\n                    <p>Nutritional Information:</p>\r\n                    {/* Example: List nutritional info if recipeDetail is loaded */}\r\n                    <p>Ratings:</p>\r\n                    {recipeDetail?.ratings.map((rat, index) => (\r\n                        <div key={index}>\r\n                            {rat.user}: {rat.rating} - {rat.review}\r\n                        </div>\r\n                    ))}\r\n                    <div>\r\n                        <input type=\"number\" value={rating} onChange={e => setRating(e.target.value)} />\r\n                        <textarea value={review} onChange={e => setReview(e.target.value)} />\r\n                        <button onClick={submitRating}>Add Rating</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RecipeRatingsAndDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}